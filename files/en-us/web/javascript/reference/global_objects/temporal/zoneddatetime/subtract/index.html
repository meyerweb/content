---
title: Temporal.ZonedDateTime.subtract()
slug: Web/JavaScript/Reference/Global_Objects/Temporal/ZonedDateTime/subtract
tags:
  - Class
  - Date
  - Epoch
  - JavaScript
  - Time
  - Time Zone
  - Unix Epoch
  - timeStamp
---
{{JSRef}}

<p class="summary"><span class="seoSummary">The <strong><code>subtract()</code></strong> method creates a new <code>{{jsxref('Temporal/ZonedDateTime','Temporal.ZonedDateTime')}}</code> object by subtracting a duration from a <code>{{jsxref('Temporal/ZonedDateTime','Temporal.ZonedDateTime')}}</code> object.</span>  Subtracting a negative duration is equivalent to {{jsxref('Temporal.ZonedDateTime/add','adding')}} the absolute value of that duration.</p>

<p>Subtraction is performed according to rules defined in RFC 5545 (iCalendar):</p>

<ul>
	<li>Subtract the date portion of a duration using calendar days, as in <code>{{jsxref('Temporal.PlainDateTime','Temporal.PlainDateTime')}}</code>. The result will automatically adjust for DST (Daylight Saving Time) using the rules of this instance's <code>{{jsxref('Temporal.ZonedDateTime/timeZone','timeZone')}}</code> property.</li>
	<li>Subtract the time portion of a duration using real-world time, as in <code>{{jsxref('Temporal.Instant','Temporal.Instant')}}</code>.</li>
	<li>Subtraction (even when using a negative duration) is performed in order from largest unit to smallest unit.</li>
	<li>If a result is ambiguous or invalid due to a time zone offset transition, the later of the two possible instants will be used for time-skipped transitions and the earlier of the two possible instants will be used for time-repeated transitions. This behavior corresponds to the default <code>disambiguation: 'compatible'</code> option used in {{jsxref('Temporal.ZonedDateTime/from','.from()')}}</code>, and used by legacy {{jsxref('Date')}} and moment.js.</li>
</ul>

<p>These rules make arithmetic with <code>{{jsxref('Temporal.ZonedDateTime','Temporal.ZonedDateTime')}}</code> "DST-safe", which means that the results most closely match the expectations of both real-world users and implementers of other standards-compliant calendar applications. These expectations include:</p>

<ul>
	<li>Subtracting days should keep clock time consistent across DST transitions.</li>
	<li>Subtracting the time portion of a duration should ignore DST transitions.</li>
	<li>There should be a consistent and relatively-unsurprising order of operations.</li>
	<li>If results are at or near a DST transition, ambiguities should be handled automatically (no crashing) and deterministically.</li>
</ul>


<h2 id="syntax">Syntax</h2>

<pre class="brush: js">
subtract(<var>duration</var>)
subtract(<var>duration</var>, <var>options</var>)
</pre>

<h3 id="parameters">Parameters</h3>

<dl>
<dt><code><var>duration</var></code></dt>
<dd>
<p>An object with properties denoting a duration, such as <code>{ days: 5 }</code>, or a string value such as <code>P5D</code>, or a <code>{{jsxref('Temporal/Duration','Temporal.Duration')}}</code> object. If <code><var>duration</var></code> is not such a string nor a <code>{{jsxref('Temporal/Duration','Temporal.Duration')}}</code> object, then it will be converted to a string as if it were passed to <code>{{jsxref('Temporal/Duration/from','Temporal.Duration.from()')}}</code>.</p>
<p>Some subtractions may be ambiguous, because months have different lengths. For example, subtracting <code>{ months: 1 }</code> from October 31 would result in September 31, which doesn't exist. In such cases, the <code>overflow</code> option (see below) governs the result.</p>
</dd>
<dt><code><var>options</var></code> {{optional_inline}}</dt>
<dd>
<p>An object containing properties that represent options for constructing the new <code>Temporal.PlainDate</code> object. These are:</p>
<dl>
<dt><code>overflow</code></dt>
<dd>Determines how out-of-range values in <var>duration</var> are handled.  There are two options:
<dl>
<dt><code>'constrain'</code> (default)</dt>
<dd>Out-of-range values are clamped to the nearest in-range value.</dd>
<dt><code>'reject'</code></dt>
<dd>Out-of-range values will cause the function to throw a <code>RangeError</code>.</dd>
</dl>
<div class="note">
<strong>Note:</strong> The <code>overflow</code> option has no effect in the default ISO calendar, because a year is always 12 months and therefore not ambiguous. However, <code>overflow</code> may have an effect in calendars where years can be different numbers of months.</p>
</div>
</dd>
</dl>
</dd>
</dl>


<h2 id="return-value">Return value</h2>

<p>A new <code>{{jsxref('Temporal/ZonedDateTime','Temporal.ZonedDateTime')}}</code> object representing the calendar date indicated by <code>oldDateTime</code> minus <code><var>duration</var></code>.
</p>

<h2 id="examples">Examples</h2>

<pre class="brush: js">
zdt = Temporal.ZonedDateTime.from('2020-03-09T00:00-07:00[America/Los_Angeles]');
// Add a day to get midnight on the day after DST starts
earlierDay = zdt.subtract({ days: 1 });
  // => 2020-03-08T00:00:00-08:00[America/Los_Angeles]
  // Note that the new offset is different, indicating the result is adjusted for DST.
earlierDay.since(zdt, { largestUnit: 'hours' }).hours;
  // => -23
  // because one clock hour lost to DST

earlierHours = zdt.subtract({ hours: 24 });
  // => 2020-03-07T23:00:00-08:00[America/Los_Angeles]
  // Subtracting time units doesn't adjust for DST. Result is 11:00PM: 24 real-world
  // hours earlier because a clock hour was skipped by DST.
earlierHours.since(zdt, { largestUnit: 'hours' }).hours; // => -24
</pre>
